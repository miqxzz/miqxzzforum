{"level":"info","timestamp":"2025-05-27T14:55:29.375+0400","caller":"cmd/main.go:39","msg":"Configuration loaded","DB_PATH":"../db/forum.db","PORT":":8081","JWT_SECRET":"your-secret-key"}
{"level":"error","timestamp":"2025-05-27T14:55:29.409+0400","caller":"http/ChatHandler.go:61","msg":"Failed to get user ID from token","error":"token contains an invalid number of segments","stacktrace":"github.com/Engls/forum-project2/forum_service/internal/controllers/http.(*ChatHandler).ServeWS\n\tC:/Users/sarat/OneDrive/Desktop/miqxzzforum/forum-backend/forum_service/internal/controllers/http/ChatHandler.go:61\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"info","timestamp":"2025-05-27T14:55:29.411+0400","caller":"http/ChatHandler.go:67","msg":"Real userID","realUserID":0}
{"level":"info","timestamp":"2025-05-27T14:55:29.411+0400","caller":"usecase/ChatUsecase.go:51","msg":"Fetching recent messages","limit":50}
{"level":"info","timestamp":"2025-05-27T14:55:29.413+0400","caller":"repository/chatRepository.go:72","msg":"Recent messages retrieved successfully","count":23}
{"level":"info","timestamp":"2025-05-27T14:55:29.413+0400","caller":"usecase/ChatUsecase.go:59","msg":"Recent messages fetched successfully","count":23}
{"level":"error","timestamp":"2025-05-27T14:55:29.420+0400","caller":"http/ChatHandler.go:61","msg":"Failed to get user ID from token","error":"token contains an invalid number of segments","stacktrace":"github.com/Engls/forum-project2/forum_service/internal/controllers/http.(*ChatHandler).ServeWS\n\tC:/Users/sarat/OneDrive/Desktop/miqxzzforum/forum-backend/forum_service/internal/controllers/http/ChatHandler.go:61\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"info","timestamp":"2025-05-27T14:55:29.421+0400","caller":"http/ChatHandler.go:67","msg":"Real userID","realUserID":0}
{"level":"error","timestamp":"2025-05-27T14:55:29.420+0400","caller":"http/ChatHandler.go:61","msg":"Failed to get user ID from token","error":"token contains an invalid number of segments","stacktrace":"github.com/Engls/forum-project2/forum_service/internal/controllers/http.(*ChatHandler).ServeWS\n\tC:/Users/sarat/OneDrive/Desktop/miqxzzforum/forum-backend/forum_service/internal/controllers/http/ChatHandler.go:61\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"info","timestamp":"2025-05-27T14:55:29.422+0400","caller":"http/ChatHandler.go:67","msg":"Real userID","realUserID":0}
{"level":"info","timestamp":"2025-05-27T14:55:29.422+0400","caller":"usecase/ChatUsecase.go:51","msg":"Fetching recent messages","limit":50}
{"level":"info","timestamp":"2025-05-27T14:55:29.423+0400","caller":"repository/chatRepository.go:72","msg":"Recent messages retrieved successfully","count":23}
{"level":"info","timestamp":"2025-05-27T14:55:29.423+0400","caller":"usecase/ChatUsecase.go:59","msg":"Recent messages fetched successfully","count":23}
{"level":"info","timestamp":"2025-05-27T14:55:29.429+0400","caller":"usecase/ChatUsecase.go:51","msg":"Fetching recent messages","limit":50}
{"level":"info","timestamp":"2025-05-27T14:55:29.430+0400","caller":"repository/chatRepository.go:72","msg":"Recent messages retrieved successfully","count":23}
{"level":"info","timestamp":"2025-05-27T14:55:29.430+0400","caller":"usecase/ChatUsecase.go:59","msg":"Recent messages fetched successfully","count":23}
{"level":"error","timestamp":"2025-05-27T14:55:31.708+0400","caller":"http/ChatHandler.go:61","msg":"Failed to get user ID from token","error":"token contains an invalid number of segments","stacktrace":"github.com/Engls/forum-project2/forum_service/internal/controllers/http.(*ChatHandler).ServeWS\n\tC:/Users/sarat/OneDrive/Desktop/miqxzzforum/forum-backend/forum_service/internal/controllers/http/ChatHandler.go:61\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"info","timestamp":"2025-05-27T14:55:31.710+0400","caller":"http/ChatHandler.go:67","msg":"Real userID","realUserID":0}
{"level":"info","timestamp":"2025-05-27T14:55:31.710+0400","caller":"usecase/ChatUsecase.go:51","msg":"Fetching recent messages","limit":50}
{"level":"info","timestamp":"2025-05-27T14:55:31.710+0400","caller":"repository/chatRepository.go:72","msg":"Recent messages retrieved successfully","count":23}
{"level":"info","timestamp":"2025-05-27T14:55:31.710+0400","caller":"usecase/ChatUsecase.go:59","msg":"Recent messages fetched successfully","count":23}
{"level":"error","timestamp":"2025-05-27T14:55:34.069+0400","caller":"http/ChatHandler.go:61","msg":"Failed to get user ID from token","error":"token contains an invalid number of segments","stacktrace":"github.com/Engls/forum-project2/forum_service/internal/controllers/http.(*ChatHandler).ServeWS\n\tC:/Users/sarat/OneDrive/Desktop/miqxzzforum/forum-backend/forum_service/internal/controllers/http/ChatHandler.go:61\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"info","timestamp":"2025-05-27T14:55:34.071+0400","caller":"http/ChatHandler.go:67","msg":"Real userID","realUserID":0}
{"level":"info","timestamp":"2025-05-27T14:55:34.072+0400","caller":"usecase/ChatUsecase.go:51","msg":"Fetching recent messages","limit":50}
{"level":"info","timestamp":"2025-05-27T14:55:34.073+0400","caller":"repository/chatRepository.go:72","msg":"Recent messages retrieved successfully","count":23}
{"level":"info","timestamp":"2025-05-27T14:55:34.073+0400","caller":"usecase/ChatUsecase.go:59","msg":"Recent messages fetched successfully","count":23}
{"level":"error","timestamp":"2025-05-27T14:55:34.301+0400","caller":"http/ChatHandler.go:61","msg":"Failed to get user ID from token","error":"token contains an invalid number of segments","stacktrace":"github.com/Engls/forum-project2/forum_service/internal/controllers/http.(*ChatHandler).ServeWS\n\tC:/Users/sarat/OneDrive/Desktop/miqxzzforum/forum-backend/forum_service/internal/controllers/http/ChatHandler.go:61\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"info","timestamp":"2025-05-27T14:55:34.302+0400","caller":"http/ChatHandler.go:67","msg":"Real userID","realUserID":0}
{"level":"info","timestamp":"2025-05-27T14:55:34.302+0400","caller":"usecase/ChatUsecase.go:51","msg":"Fetching recent messages","limit":50}
{"level":"info","timestamp":"2025-05-27T14:55:34.303+0400","caller":"repository/chatRepository.go:72","msg":"Recent messages retrieved successfully","count":23}
{"level":"info","timestamp":"2025-05-27T14:55:34.303+0400","caller":"usecase/ChatUsecase.go:59","msg":"Recent messages fetched successfully","count":23}
{"level":"error","timestamp":"2025-05-27T14:56:09.680+0400","caller":"http/ChatHandler.go:61","msg":"Failed to get user ID from token","error":"token contains an invalid number of segments","stacktrace":"github.com/Engls/forum-project2/forum_service/internal/controllers/http.(*ChatHandler).ServeWS\n\tC:/Users/sarat/OneDrive/Desktop/miqxzzforum/forum-backend/forum_service/internal/controllers/http/ChatHandler.go:61\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"info","timestamp":"2025-05-27T14:56:09.683+0400","caller":"http/ChatHandler.go:67","msg":"Real userID","realUserID":0}
{"level":"info","timestamp":"2025-05-27T14:56:09.683+0400","caller":"usecase/ChatUsecase.go:51","msg":"Fetching recent messages","limit":50}
{"level":"info","timestamp":"2025-05-27T14:56:09.684+0400","caller":"repository/chatRepository.go:72","msg":"Recent messages retrieved successfully","count":23}
{"level":"info","timestamp":"2025-05-27T14:56:09.684+0400","caller":"usecase/ChatUsecase.go:59","msg":"Recent messages fetched successfully","count":23}
{"level":"error","timestamp":"2025-05-27T14:56:09.693+0400","caller":"http/ChatHandler.go:61","msg":"Failed to get user ID from token","error":"token contains an invalid number of segments","stacktrace":"github.com/Engls/forum-project2/forum_service/internal/controllers/http.(*ChatHandler).ServeWS\n\tC:/Users/sarat/OneDrive/Desktop/miqxzzforum/forum-backend/forum_service/internal/controllers/http/ChatHandler.go:61\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/sarat/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"info","timestamp":"2025-05-27T14:56:09.695+0400","caller":"http/ChatHandler.go:67","msg":"Real userID","realUserID":0}
{"level":"info","timestamp":"2025-05-27T14:56:09.696+0400","caller":"usecase/ChatUsecase.go:51","msg":"Fetching recent messages","limit":50}
{"level":"info","timestamp":"2025-05-27T14:56:09.701+0400","caller":"repository/chatRepository.go:72","msg":"Recent messages retrieved successfully","count":23}
{"level":"info","timestamp":"2025-05-27T14:56:09.703+0400","caller":"usecase/ChatUsecase.go:59","msg":"Recent messages fetched successfully","count":23}
